<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calendario Protocol SpecÂ v0.1</title>
  <!-- External libraries -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <style>
    body {
      background-color: #f9f9fb;
      color: #212529;
      font-family: 'Inter', sans-serif;
      line-height: 1.7;
    }
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
    }
    header {
      padding: 6rem 0 4rem;
      text-align: center;
      background: #fff;
      border-bottom: 1px solid #dee2e6;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: "";
      position: absolute;
      top: -100px;
      right: -100px;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle at center, #e2e6f2 0%, transparent 80%);
      z-index: 0;
    }
    header > * {
      position: relative;
      z-index: 1;
    }
    .lead {
      font-size: 1.25rem;
      color: #6c757d;
    }
    .btn-primary, .btn-outline-secondary {
      border-radius: 30px;
      padding: 0.6rem 1.4rem;
      transition: all 0.2s ease-in-out;
    }
    .btn-primary:hover, .btn-outline-secondary:hover {
      transform: translateY(-2px);
    }
    .section {
      padding: 4rem 0;
    }
    .code-block {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 0.75rem;
      padding: 1.5rem;
      font-size: 0.9rem;
      line-height: 1.5;
      overflow-x: auto;
    }
    pre code {
      color: #212529;
    }
    table {
      background: #fff;
    }
  </style>
</head>
<body>
  <!--Â NavigationÂ -->
  <nav class="navbar navbar-light bg-white border-bottom px-4 shadow-sm">
    <a class="navbar-brand fw-bold" href="index.html"><i class="fas fa-calendar me-2"></i>Calendario Protocol</a>
    <div>
      <a href="index.html" class="btn btn-outline-secondary me-2">Home</a>
      <span class="btn btn-primary disabled">SpecÂ v0.1</span>
    </div>
  </nav>

  <!--Â HeroÂ -->
  <header data-aos="fade-up">
    <h1 class="display-5 fw-bold">Calendario ProtocolÂ v0.1</h1>
    <p class="lead">Humanâ€‘Centric Availability Resolution</p>
  </header>

  <!--Â OverviewÂ -->
  <section class="section">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸŒÂ Overview</h2>
      <p>Calendario is a federated, identityâ€‘first protocol for resolving a personâ€™s availability. It enables apps, assistants, agents, and software to determine <em>when</em>, <em>how</em>, and under what conditions a human is availableÂ â€” by resolving a structured JSON profile located at:</p>
      <p><code>/.â€‹wellâ€‘known/calendario/{username}</code></p>
      <p>The protocol only standardizes how a person or organization declares their:</p>
      <ul>
        <li>Availability rules</li>
        <li>Pricing and payment terms</li>
        <li>Delegated booking rights</li>
        <li>Identity proofs</li>
      </ul>
      <p>Calendario is designed to be:</p>
      <ul>
        <li><strong>Federated</strong>Â â€” anyone can host their profile</li>
        <li><strong>Resolvable</strong>Â â€” singleÂ GET to static or dynamic endpoint</li>
        <li><strong>Declarative</strong>Â â€” publishes intent, not state (no realâ€‘time guarantees)</li>
        <li><strong>Composable</strong>Â â€” usable in apps, bots, browsers, or agents</li>
        <li><strong>Agentâ€‘friendly</strong>Â â€” readable by humans <em>and</em> AIs</li>
      </ul>
    </div>
  </section>

  <!--Â SampleÂ EndpointÂ &Â JSONÂ -->
  <section class="section bg-white">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ§©Â Sample EndpointÂ &Â JSONÂ (v0.1)</h2>
      <p><strong>GET</strong> <code>https://yourdomain.com/.well-known/calendario/jane</code><br>
      <strong>Accept:</strong> <code>application/json</code></p>
      <p><strong>Schema Compliance</strong><br>The JSON profile must conform to <code>calendario-schema-v0.1.json</code> and can be validated using <code>validator.py</code>.</p>
      <h3 class="h5 mt-4">Canonical Example</h3>
      <div class="code-block"><pre><code>{
  "version": "0.1",
  "username": "jane",
  "display_name": "Jane Doe",
  "self": "did:key:xyz...",
  "self_proof": {
    "type": "DIDSignature2021",
    "created": "2025-05-03T17:00:00Z",
    "proofPurpose": "assertionMethod",
    "verificationMethod": "did:key:xyz...",
    "jws": "eyJhbGciOiJFUz..."
  },

  "organization": "https://acme.example.com",
  "organization_proof": {
    "type": "DIDSignature2021",
    "created": "2025-05-03T18:00:00Z",
    "proofPurpose": "assertionMethod",
    "verificationMethod": "did:key:abc123...",
    "jws": "eyJhbGciOiJFUz..."
  },

  "representing": "ceo@acme.example.com",
  "representing_proof": {
    "type": "DIDSignature2021",
    "created": "2025-05-03T17:30:00Z",
    "proofPurpose": "assertionMethod",
    "verificationMethod": "did:key:xyz123...",
    "jws": "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9..."
  },

  "timezone": "America/New_York",
  "visibility": "public",
  "allow_anonymous_booking": false,

  "min_notice_hours": 72,
  "max_bookings_per_day": 3,
  "blackouts": [
    "2025-12-01",
    { "start": "2025-12-24", "end": "2025-12-31" }
  ],
  "scheduling": [
    {
      "type": "weekly",
      "days": ["monday", "wednesday", "friday"],
      "hours": ["09:00-11:00", "16:00-18:00"],
      "expires": "2025-06-30"
    },
    {
      "type": "date",
      "dates": ["2025-06-07", "2025-06-10"],
      "hours": ["09:00-11:00"]
    },
    {
      "type": "range",
      "start": "2025-06-01",
      "end": "2025-06-14",
      "days": ["monday", "tuesday", "thursday"],
      "hours": ["17:00-20:00"]
    }
  ],

  "pricing": {
    "hour": 75,
    "half_hour": 45,
    "currency": "USD"
  },
  "payment_required": true,
  "payment_url": "https://yourdomain.com/pay/jane",

  "no_show_policy_url": "https://yourdomain.com/no-show",
  "terms_url": "https://yourdomain.com/terms",
  "privacy_url": "https://yourdomain.com/privacy",

  "response_channel": {
    "human_ack_required": true,

    "notify": [
      { "type": "email", "value": "jane@example.com" },
      { "type": "sms", "value": "+14155551234" },
      { "type": "push", "value": "https://push.jane.dev/inbox" },
      { "type": "webhook", "value": "https://jane.dev/notify" },
      { "type": "matrix_dm", "value": "@jane:matrix.org" }
    ],

    "confirm": {
      "meeting_response_url": "https://yourdomain.com/api/bookings/jane",
      "static_meeting_url": "https://meet.google.com/abc-defg-hij",
      "free_busy_url": "https://yourdomain.com/api/freebusy/jane"
    },

    "booking_confirmation_message": "Thank you for booking with Jane. Please bring your brief and join the call 5 mins early.",
    "booking_error_message": "Sorry, I'm no longer available at this time. Please propose another slot."
  }
}
</code></pre></div>
    </div>
  </section>

  <!--Â FieldÂ ReferenceÂ -->
  <section class="section">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ“˜Â Field ReferenceÂ (v0.1)</h2>
      <div class="table-responsive">
        <table class="table table-striped table-bordered align-middle">
          <thead class="table-light">
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
              <th>Example / Context</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>version</td><td>string</td><td class="text-center">âœ…</td><td>Protocol version used</td><td>"0.1" â€” allows future breaking changes</td></tr>
            <tr><td>username</td><td>string</td><td class="text-center">âœ…</td><td>Username component of URL</td><td>"jane"</td></tr>
            <tr><td>display_name</td><td>string</td><td class="text-center">âœ…</td><td>Humanâ€‘readable name</td><td>"JaneÂ Doe"</td></tr>
            <tr><td>self</td><td>string</td><td class="text-center">âœ…</td><td>DID or unique selfâ€‘identifier</td><td>"did:key:xyz..."</td></tr>
            <tr><td>self_proof</td><td>object</td><td class="text-center">âœ…</td><td>Signature proving identity ownership</td><td>JSONâ€‘LD proof with JWS</td></tr>
            <tr><td>organization</td><td>string</td><td class="text-center">â€”</td><td>URL of affiliated organization</td><td>"https://acme.example.com"</td></tr>
            <tr><td>organization_proof</td><td>object</td><td class="text-center">â€”</td><td>Proof signed by org key</td><td>Org DID signature</td></tr>
            <tr><td>representing</td><td>string</td><td class="text-center">â€”</td><td>Email/DID you act on behalf of</td><td>"ceo@acme.example.com"</td></tr>
            <tr><td>representing_proof</td><td>object</td><td class="text-center">â€”</td><td>Signature authorizing representation</td><td>JWS</td></tr>
            <tr><td>timezone</td><td>string</td><td class="text-center">âœ…</td><td>IANA timeÂ zone</td><td>"America/New_York"</td></tr>
            <tr><td>visibility</td><td>string</td><td class="text-center">âœ…</td><td>"public" or "private" profile</td><td>"public"</td></tr>
            <tr><td>allow_anonymous_booking</td><td>boolean</td><td class="text-center">âœ…</td><td>Permit unauthenticated bookings</td><td>false</td></tr>
            <tr><td>min_notice_hours</td><td>integer</td><td class="text-center">â€”</td><td>Required notice period</td><td>72</td></tr>
            <tr><td>max_bookings_per_day</td><td>integer</td><td class="text-center">â€”</td><td>Daily booking limit</td><td>3</td></tr>
            <tr><td>blackouts</td><td>array</td><td class="text-center">â€”</td><td>Specific unavailable dates/ranges</td><td>["2025â€‘12â€‘01", {start,end}]</td></tr>
            <tr><td>scheduling</td><td>array</td><td class="text-center">âœ…</td><td>Availability blocks</td><td>See Scheduling Blocks</td></tr>
            <tr><td>pricing</td><td>object</td><td class="text-center">â€”</td><td>Rates & currency</td><td>{"hour":75}</td></tr>
            <tr><td>payment_required</td><td>boolean</td><td class="text-center">â€”</td><td>Is preâ€‘payment mandatory?</td><td>true</td></tr>
            <tr><td>payment_url</td><td>string</td><td class="text-center">â€”</td><td>URL to pay</td><td>Stripe link</td></tr>
            <tr><td>no_show_policy_url</td><td>string</td><td class="text-center">â€”</td><td>Cancellation / noâ€‘show policy</td><td>Policy page</td></tr>
            <tr><td>terms_url</td><td>string</td><td class="text-center">â€”</td><td>Engagement terms</td><td>Terms page</td></tr>
            <tr><td>privacy_url</td><td>string</td><td class="text-center">â€”</td><td>Privacy policy</td><td>Privacy page</td></tr>
            <tr><td>response_channel</td><td>object</td><td class="text-center">âœ…</td><td>Notification & confirmation config</td><td>See Response Channel</td></tr>
            <tr><td>meta</td><td>object</td><td class="text-center">â€”</td><td>Arbitrary tags / hints</td><td>{"x-tags":["founder"]}</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!--Â Scheduling BlocksÂ -->
  <section class="section bg-white">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ“†Â Scheduling Blocks</h2>
      <p>Each item in <code>scheduling</code> defines availability logic.</p>
      <div class="code-block"><pre><code>{
  "type": "weekly",
  "days": ["monday", "wednesday"],
  "hours": ["09:00-12:00"],
  "expires": "2025-06-30"
}</code></pre></div>
      <p class="mt-3">Types supported:</p>
      <ul>
        <li><strong>weekly</strong>Â â€” repeat on days of week</li>
        <li><strong>date</strong>Â â€” specific calendar dates</li>
        <li><strong>range</strong>Â â€” continuous span with selected days</li>
      </ul>
    </div>
  </section>

  <!--Â Response ChannelÂ -->
  <section class="section">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ“¬Â Response Channel</h2>
      <div class="code-block"><pre><code>"response_channel": {
  "human_ack_required": true,
  "notify": [ ... ],
  "confirm": { ... },
  "booking_confirmation_message": "...",
  "booking_error_message": "..."
}</code></pre></div>
      <ul class="mt-3">
        <li><code>notify</code>Â â€” multiple channels (email, sms, push, webhook, matrix_dm)</li>
        <li><code>confirm.meeting_response_url</code>Â â€” <em>POST</em> here to book</li>
        <li><code>confirm.static_meeting_url</code>Â â€” fallback meeting link</li>
        <li><code>confirm.free_busy_url</code>Â â€” <em>GET</em> here to check live conflicts</li>
      </ul>
    </div>
  </section>

  <!--Â Booking ConfirmationÂ -->
  <section class="section bg-white">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">âœ…Â Booking Confirmation Format</h2>
      <p><em>POST</em> to <code>meeting_response_url</code>:</p>
      <div class="code-block"><pre><code>{
  "status": "confirmed",
  "meeting_url": "https://meet.google.com/xyz-1234",
  "start_time": "2025-06-03T14:00:00Z",
  "duration_minutes": 30,
  "confirmation_message": "Looking forward to speaking with you!"
}</code></pre></div>
      <p class="mt-4">If time is unavailable:</p>
      <div class="code-block"><pre><code>{
  "status": "conflict",
  "reason": "Requested time already booked",
  "suggested_times": ["2025-06-03T15:00:00Z"],
  "fallback_meeting_url": "https://meet.google.com/xyz-9999"
}</code></pre></div>
    </div>
  </section>

  <!--Â Free BusyÂ -->
  <section class="section">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ§ Â Free/Busy Format</h2>
      <div class="code-block"><pre><code>{
  "busy": [
    { "start": "2025-06-03T14:00:00Z", "end": "2025-06-03T14:30:00Z" }
  ],
  "generated_at": "2025-05-03T16:00:00Z",
  "ttl_seconds": 300
}</code></pre></div>
      <p class="mt-3">Clients should call this before <em>POST</em>ing to avoid conflicts.</p>
    </div>
  </section>

  <!--Â Guidelines & MiscÂ -->
  <section class="section bg-white">
    <div class="container" data-aos="fade-up">
      <h2 class="mb-4">ğŸ”Â Security Guidelines</h2>
      <ul>
        <li>Use <code>self_proof</code> and <code>organization_proof</code> with verifiable signatures.</li>
        <li>Avoid exposing sensitive URLs to unauthenticated clients.</li>
        <li>Prefer HTTPS everywhere.</li>
        <li>Rateâ€‘limit <code>.well-known/calendario</code> endpoints.</li>
      </ul>

      <h2 class="mb-4 mt-5">ğŸ§ Â ConcurrencyÂ &Â Conflict Prevention</h2>
      <ul>
        <li>Calendario profiles represent declared availability, <em>not</em> realâ€‘time truth.</li>
        <li>Use <code>free_busy_url</code> to check conflicts before booking.</li>
        <li>Enforce <code>min_notice_hours</code> and <code>max_bookings_per_day</code>.</li>
        <li>Confirm bookings via <code>meeting_response_url</code> with atomic checks.</li>
      </ul>

      <h2 class="mb-4 mt-5">âŒÂ Error Handling Guidelines</h2>
      <ul>
        <li>Clients must validate schemas and required fields.</li>
        <li>Respect <code>visibility</code>, <code>payment_required</code>, and <code>blackouts</code>.</li>
      </ul>

      <h2 class="mb-4 mt-5">ğŸ”§Â Extensibility</h2>
      <p>Clients <strong>MUST</strong> ignore unknown topâ€‘level fields. Arbitrary additions belong in <code>meta</code> or should start with <code>xâ€‘</code>.</p>

      <h2 class="mb-4 mt-5">ğŸ”Â Discovery</h2>
      <p>Add this TXT record to DNS:</p>
      <div class="code-block"><pre><code>calendario=/.well-known/calendario</code></pre></div>

      <h2 class="mb-4 mt-5">ğŸ“œÂ License</h2>
      <p>Calendario Protocol is openâ€‘source under the MIT License. Anyone can adopt, implement, or extend it.</p>

      <h2 class="mb-4 mt-5">ğŸ“Â Resources</h2>
      <ul>
        <li><a href="https://github.com/calendario-protocol">ğŸ“„Â JSON Schema</a></li>
        <li><a href="https://github.com/calendario-protocol">ğŸ“˜Â Profile Example</a></li>
        <li><a href="https://github.com/calendario-protocol">ğŸ§ªÂ Validator Script</a></li>
        <li><a href="#">âœ…Â Hosted Sample (Coming soon)</a></li>
      </ul>
    </div>
  </section>

  <footer>
    <div class="container text-center">
      <h2 class="text-dark">Ready to Join?</h2>
      <p class="mb-3">Calendario is maintained by RCloud Labs and the open protocol community.</p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="https://github.com/calendario-protocol">â­ GitHub</a></li>
        <li class="list-inline-item"><a href="https://calendario.dev/spec-v0.1.html">ğŸ“Š Spec</li>
        <li class="list-inline-item"><a href="#">ğŸ’¬ Slack</li>
      </ul>
      <p class="small mt-3">Â© 2025 Calendario Protocol</p>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>AOS.init({ duration: 700, once: true });</script>
</body>
</html>
